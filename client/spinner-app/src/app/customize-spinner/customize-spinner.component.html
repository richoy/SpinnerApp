<div class="row bgColor">

    <div class="col-12 col-lg-2 navbar navbar-expand-lg p-0 bg-dark">
        <button class="navbar-toggler pl-4" type="button" (click)="isMenuCollapsed = !isMenuCollapsed">
            <span class="btn btn-secondary">&#9776;</span> 
        </button>
        <app-navbar class="collapse navbar-collapse" id="navbarSupportedContent" [ngbCollapse]="isMenuCollapsed"></app-navbar>
    </div>
    
    <div class="container menu1 col-12 col-lg-10">
    
        <h2>Customize the spinner</h2>
    
        <div class="row my-5">
            <div class="col-12">
      
                <div id="settingNumber">
                    <div>
                        <label class="mr-3" for="numberOptions">Number of fields on the spinner </label>
                        <select matNativeControl name="numberOptions" required (change)="onChange($event.target.value)">
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6" selected>6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="12">12</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-12">
            <form [formGroup]="spinnerForm" (ngSubmit)="onSubmit()">
                <div>

                    <div class="table-responsive">
                        <table class="table table-borderless">
                            <div formArrayName="spinnerArray">
                                <tr>
                                    <th><label for="ImageOption">Input type</label></th>
                                    <th><label for="">File / Text</label></th>
                                    <th><label for="">Percentage</label></th>
                                    <th><label for="">Result</label></th>
                                    <th><label for="">Text / Email</label></th>
                                    <th><label for="">bg Color</label></th>
                                </tr>
                                <tr *ngFor="let spinnerfield of spinnerArray.controls; let i = index" [formGroupName]="i">

                                    <td>
                                        <select formControlName="isItImage" required (change)="onChangeImage($event.target.value, i)">
                                            <option [ngValue]="true" selected>Image</option>
                                            <option [ngValue]="false">Text</option>
                                        </select>
                                    </td>

                                    <td *ngIf="itIsImageFile[i]">
                                        <div id="ImageUploadBox">
                                            <div id="FileUploadBox">
                                                <input #imageInput
                                                formControlName="file"
                                                type="file" 
                                                accept="image/*"
                                                name="imageFile"
                                                (change)="processFile($event, i)">
        
                                            </div>
    
                                            <div id="FileUploadMessageBox" *ngIf="selectedFile">
                                                <div *ngIf="SuccessfullyUpload[i]" class="alert alert-success d-flex justify-content-center"> <span>&#10004;</span></div>
                                                <div *ngIf="UnsuccessfullyUpload[i]" class="alert alert-danger d-flex justify-content-center"> <span>&#x2716;</span></div>
                                            </div>
                                        </div>
                                    </td>

                                    <td *ngIf="itIsTextField[i]">
                                        <input formControlName="textFieldOne" type="text" name="textField">
                                    </td>

                                    <td>
                                        <input formControlName="percentage" type="number" name="textField" [class.invalid]="spinnerfield.controls.percentage.hasError('required')  && submitPressed">
                                    </td>

                                    <td>
                                        <select formControlName="isItEmail" name="resultOption" required (change)="onChangeResult($event.target.value, i)">
                                            <option [ngValue]="true" selected>Text Popup</option>
                                            <option [ngValue]="false">Email Popup</option>
                                        </select>
                                    </td>

                                    <td *ngIf="itIsTextPopUp[i]">
                                        <input formControlName="textPopUp"  type="text" name="imageFile">
                                    </td>
                
                                    <td *ngIf="itIsEmailPopUp[i]">
                                        <input formControlName="emails" type="email" name="textField">
                                    </td>

                                    <td class="col-2">
                                        <input formControlName="color" type="color" [class.invalid]="spinnerfield.controls.color.hasError('required')  && submitPressed">
                                    </td>

                                </tr>
                            </div>

                        </table>
                    </div>

                    
    
                    <button type="submit" class="btn btn-success ml-auto" 
                    >Submit</button>
                    
                </div>
            </form>

            <h3 class="mt-3">Image for middle of spinner</h3>

            <form [formGroup]="CenterImageForm" (ngSubmit)="onSubmitCenterImage()">
                <input class="mr-5" formControlName="centerImage" type="file" (change)="ProcessCenterImage($event)">
                <button class="ml-5" type="submit" class="btn btn-success ml-auto" 
                    >Submit</button>
            </form>


        </div>
    
    </div>
</div>
